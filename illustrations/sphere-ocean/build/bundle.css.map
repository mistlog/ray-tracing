{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../../../sphere-ocean.tsx"
  ],
  "sourcesContent": [
    "\n<script>\nimport { onMount } from 'svelte';\nimport { Vector3 } from 'three';\nimport { DefocusBlurCamera } from '../common/defocus-blur-camera.js';\nimport { SphereOceanWorld } from '../common/with-material/sphere-ocean.js';\n\n\nlet canvas;\nonMount(() => {\n  function generateColor(ray, world, depth) {\n    if (depth <= 0) {\n      return new Vector3(0, 0, 0);\n    }\n\n    const record = world.hit(ray, {\n      min: 0.001,\n      max: Number.MAX_SAFE_INTEGER\n    });\n\n    if (record) {\n      const {\n        scattered,\n        attenuation\n      } = record.material.scatter(ray, record);\n\n      if (scattered) {\n        const color = generateColor(scattered, world, depth - 1);\n        return color.multiply(attenuation);\n      }\n\n      return new Vector3(0, 0, 0);\n    }\n\n    const unitDirection = ray.direction.clone().normalize();\n    const t = 0.5 * (unitDirection.y + 1);\n    const blend = new Vector3(0.5, 0.7, 1.0).lerp(new Vector3(1, 1, 1), t);\n    return blend;\n  }\n\n  ;\n  const width = canvas.width;\n  const height = canvas.height;\n  const context = canvas.getContext('2d');\n  const imageData = context.getImageData(0, 0, width, height);\n  const world = SphereOceanWorld();\n  const lookFrom = new Vector3(13, -2, -3);\n  const lookAt = new Vector3(0, 0, 0);\n  const up = new Vector3(0, -1, 0);\n  const fov = Math.PI / 9;\n  const aspect = width / height;\n  const aperture = 0.1;\n  const focusDistance = 10;\n  const camera = new DefocusBlurCamera(fov, aspect, lookFrom, lookAt, up, aperture, focusDistance);\n  const samples = 5;\n  const maxDepth = 5;\n\n  for (let x = 0; x < width; ++x) {\n    for (let y = 0; y < height; ++y) {\n      const color = new Vector3(0, 0, 0);\n\n      for (let k = 0; k < samples; ++k) {\n        const u = (x + Math.random()) / width;\n        const v = (y + Math.random()) / height;\n        const ray = camera.getRay(u, v);\n        color.add(generateColor(ray, world, maxDepth));\n      }\n\n      color.divideScalar(samples);\n      const r = Math.sqrt(color.x);\n      const g = Math.sqrt(color.y);\n      const b = Math.sqrt(color.z);\n      const n = (y * width + x) * 4;\n      imageData.data[n] = r * 255;\n      imageData.data[n + 1] = g * 255;\n      imageData.data[n + 2] = b * 255;\n      imageData.data[n + 3] = 255;\n    }\n  }\n\n  context.putImageData(imageData, 0, 0);\n});\nlet width = 600;\nlet height = 300;\n</script>\n\n\n<div class=\"container\">\n        <canvas bind:this={canvas} width={width} height={height}></canvas>\n    </div>\n\n\n<style>\n@import url(https://fonts.googleapis.com/css?family=Nunito:400,600|Sanchez:400,400i|Cousine:400;700);\n\n.container {\n    margin-top: 20px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n</style>"
  ],
  "names": [],
  "mappings": "AA6FA,QAAQ,IAAI,uFAAuF,CAAC,CAAC,AAErG,UAAU,eAAC,CAAC,AACR,UAAU,CAAE,IAAI,CAChB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,WAAW,CAAE,MAAM,AACvB,CAAC"
}